<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="pages/default.xhtml">

	<ui:define name="content">

		<h:form id="form">




			<b:well collapsed="false" collapsible="false" look="info">
				<h1>查詢報表</h1>
				輸入年月查詢相關資料
				<p/>

				<b:panelGrid colSpans="3,3,3,3">
				

					<b:inputText value="#{queryBillReportBean.dto.yyyy}">
						<f:facet name="prepend">
							<h:outputText value="年" converter="#{timeConverter}">


							</h:outputText>
						</f:facet>
					</b:inputText>




					<b:selectOneMenu id="console"
						value="#{queryBillReportBean.dto.month}">

						<f:facet name="prepend">
							<h:outputText value="查詢月:" />
						</f:facet>
						<f:selectItem itemLabel="整年" itemValue="" />
						<f:selectItem itemLabel="1月" itemValue="01" />
						<f:selectItem itemLabel="2月" itemValue="02" />
						<f:selectItem itemLabel="3月" itemValue="03" />
						<f:selectItem itemLabel="4月" itemValue="04" />
						<f:selectItem itemLabel="5月" itemValue="05" />
						<f:selectItem itemLabel="6月" itemValue="06" />
						<f:selectItem itemLabel="7月" itemValue="07" />
						<f:selectItem itemLabel="8月" itemValue="08" />
						<f:selectItem itemLabel="9月" itemValue="09" />
						<f:selectItem itemLabel="10月" itemValue="10" />
						<f:selectItem itemLabel="11月" itemValue="11" />
						<f:selectItem itemLabel="12月" itemValue="12" />
					</b:selectOneMenu>


				</b:panelGrid>


				<br></br>



				<p:commandButton value="Download" ajax="false"
					actionListener="#{queryBillReportBean.doQuery}"
					onclick="PrimeFaces.monitorDownload(start, stop);"
					icon="ui-icon-arrowthick-1-s">
					<p:fileDownload value="#{queryBillReportBean.file}" />
				</p:commandButton>



			</b:well>

			<p:dialog modal="true" widgetVar="statusDialog" header="Status"
				draggable="false" closable="false" resizable="false">
				
					下載中..
				
			</p:dialog>




		</h:form>

		<script type="text/javascript">
			function start() {
				PF('statusDialog').show();
			}

			function stop() {
				PF('statusDialog').hide();
			}
		</script>
	</ui:define>




</ui:composition>
</html>