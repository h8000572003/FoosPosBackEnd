<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="pages/default.xhtml">



	<ui:define name="content">
		<h:form>

			<p:remoteCommand update="orderPanel" name="chagneValueEvent"></p:remoteCommand>


			<b:well id="orderPanel" title="點菜" collapsible="false">
				<h1>點菜</h1>


				<h:panelGrid columns="2"  cellpadding="5">
					
						<h:outputText value="序號：">
						</h:outputText>
						<b:inputText value="#{toOrderBillBean.dto.seqNo}" disabled="true"></b:inputText>



						<h:outputText value="座位："></h:outputText>
						<p:selectOneMenu value="#{toOrderBillBean.dto.seat}"  
							onchange="chagneValueEvent();" id="selectSeat">
							<f:selectItem itemLabel="未設定" itemValue="" />
							<f:selectItem itemLabel="1" itemValue="1" />
							<f:selectItem itemLabel="2" itemValue="2" />
							<f:selectItem itemLabel="井邊" itemValue="井邊" />
							<f:selectItem itemLabel="井中" itemValue="井中" />
							<f:selectItem itemLabel="井大" itemValue="井大" />
							<f:selectItem itemLabel="井電" itemValue="井電" />
							<f:selectItem itemLabel="o大" itemValue="o大" />
							<f:selectItem itemLabel="o中" itemValue="o中" />
							<f:selectItem itemLabel="o電" itemValue="o電" />

						</p:selectOneMenu>

						<h:outputText value="內用外帶："></h:outputText>
						<p:selectOneMenu value="#{toOrderBillBean.dto.outOrIn}" 
							onchange="chagneValueEvent();" id="selectOutOrIn">
							<f:selectItem itemLabel="未設定" itemValue="" />
							<f:selectItem itemLabel="內用" itemValue="I" />
							<f:selectItem itemLabel="外帶" itemValue="O" />



						</p:selectOneMenu>

					
				</h:panelGrid>



				<b:panelGrid colSpans="12">
					<p:selectOneButton value="#{toOrderBillBean.dto.name}">



						<f:selectItems value="#{toOrderBillBean.dto.foods}" var="item"
							itemLabel="#{item.name}" itemValue="#{item.name}" />

						<p:ajax event="change" listener="#{toOrderBillBean.changeValue}"
							update="@form" />
					</p:selectOneButton>





					<b:selectOneMenu value="#{toOrderBillBean.dto.number}">


						<f:selectItem itemLabel="1" itemValue="1" />
						<f:selectItem itemLabel="2" itemValue="2" />
						<f:selectItem itemLabel="3" itemValue="3" />
						<f:selectItem itemLabel="4" itemValue="4" />
						<f:selectItem itemLabel="5" itemValue="5" />
						<f:selectItem itemLabel="6" itemValue="6" />
						<f:selectItem itemLabel="7" itemValue="7" />
						<f:selectItem itemLabel="8" itemValue="8" />
						<f:selectItem itemLabel="9" itemValue="9" />
						<f:selectItem itemLabel="10" itemValue="10" />


						<f:selectItem itemLabel="11" itemValue="11" />
						<f:selectItem itemLabel="12" itemValue="12" />
						<f:selectItem itemLabel="13" itemValue="13" />
						<f:selectItem itemLabel="14" itemValue="14" />
						<f:selectItem itemLabel="15" itemValue="15" />
						<f:selectItem itemLabel="16" itemValue="16" />
						<f:selectItem itemLabel="17" itemValue="17" />
						<f:selectItem itemLabel="18" itemValue="18" />
						<f:selectItem itemLabel="19" itemValue="19" />
						<f:selectItem itemLabel="20" itemValue="20" />
						<f:facet name="prepend">

							<h:outputText value="#{toOrderBillBean.dto.name}" />
							<h:outputText value="$#{toOrderBillBean.dto.dollar}" />


						</f:facet>

						<f:facet name="append">
							<h:outputText value="數量" />
						</f:facet>

					</b:selectOneMenu>

					<p:commandButton value="加入" style="width:100%" update="@form"
						actionListener="#{toOrderBillBean.toAdd}"></p:commandButton>

					<p:selectManyButton
						value="#{toOrderBillBean.dto.featureStringList}">



						<f:selectItems value="#{toOrderBillBean.dto.features}" var="item"
							itemLabel="#{item.name}" itemValue="#{item.name}" />


					</p:selectManyButton>

				</b:panelGrid>

				<b:well id="wallId">

					<ui:repeat var="item" value="#{toOrderBillBean.dto.toOrderFoods}">

						<b:commandButton action="#{toOrderBillBean.remove(item)}"
							oncomplete="chagneValueEvent();"
							value="#{item.name} x #{item.number} ($ #{item.dollar}) #{item.specailize}">
						</b:commandButton>
					</ui:repeat>
				</b:well>
				<br></br>



				<p:commandButton value="買單" update="@form"
					actionListener="#{toOrderBillBean.count}"
					oncomplete="PF('buyDialog').show()" title="View">

				</p:commandButton>

				<b:commandButton rendered="#{toOrderBillBean.dto.payied eq 'Y'}"
					action="#{toOrderBillBean.toSend}" value="列印與送出" look="primary"
					icon="print"></b:commandButton>


				<p:dialog header="商品明細" widgetVar="buyDialog" modal="true"
					width="80%" height="80%" showEffect="fade" hideEffect="fade"
					resizable="false">
					<p:outputPanel>

						<b:well>
							<b:row>



								<h2>
									<strong>購買商品項目 <font color="red">
											$#{toOrderBillBean.dto.totalMoney}</font>
									</strong>
								</h2>

								<ui:repeat var="item"
									value="#{toOrderBillBean.dto.toOrderFoods}">


									<b:column span="12">
										<b:inputText disabled="true"
											value="#{item.name} x #{item.number} ($ #{item.dollar}) #{item.specailize}" />
									</b:column>
								</ui:repeat>

							</b:row>

							<b:panelGrid colSpans="12">
								<b:buttonToolbar>
									<b:commandButton immediate="false" value="確定"
										actionListener="#{toOrderBillBean.hasPay}" look="danger"></b:commandButton>


									<b:commandButton immediate="false" value="取消"></b:commandButton>

								</b:buttonToolbar>
							</b:panelGrid>

						</b:well>
					</p:outputPanel>
				</p:dialog>

			</b:well>

		
			
			 
		
		</h:form>


	</ui:define>




</ui:composition>
</html>